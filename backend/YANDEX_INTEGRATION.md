# üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Yandex Cloud —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Legal AI Vault

## ‚úÖ –ß—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ

### 1. **Yandex AI Studio Classifier** - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–§–∞–π–ª**: `app/services/yandex_classifier.py`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `document_classifier_node.py` –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 0.11‚ÇΩ –∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç (vs GPT-4 30‚ÇΩ!)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: 10x –±—ã—Å—Ç—Ä–µ–µ, 100x –¥–µ—à–µ–≤–ª–µ

### 2. **YandexGPT** - LLM –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ RAG
- **–§–∞–π–ª**: `app/services/yandex_llm.py`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: 
  - `planning_agent.py` - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
  - `rag_service.py` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –≤ —á–∞—Ç–µ
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 0.30‚ÇΩ/1K —Ç–æ–∫–µ–Ω–æ–≤ (vs GPT-4 30‚ÇΩ/1K)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –õ—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —è–∑—ã–∫

### 3. **Yandex Embeddings** - –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- **–§–∞–π–ª**: `app/services/yandex_embeddings.py`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: `document_processor.py` - –¥–ª—è RAG –ø–æ–∏—Å–∫–∞
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: 0.008‚ÇΩ/1K —Ç–æ–∫–µ–Ω–æ–≤
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: +20% accuracy –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ RAG

### 4. **SpeechKit** - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–§–∞–π–ª**: `app/services/speechkit.py`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∞—É–¥–∏–æ –∑–∞—Å–µ–¥–∞–Ω–∏–π
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~1.2‚ÇΩ/–º–∏–Ω—É—Ç–∞
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: 98% —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ —Ä—É—Å—Å–∫–æ–≥–æ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω—ã Yandex Cloud

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ Yandex Cloud CLI (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
curl -sSL https://storage.yandexcloud.net/yandexcloud-yc/install.sh | bash

# –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è
yc init

# –ü–æ–ª—É—á–∏ IAM —Ç–æ–∫–µ–Ω
yc iam create-token

# –ü–æ–ª—É—á–∏ folder_id
yc config get folder-id
```

### 2. –°–æ–∑–¥–∞–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ AI Studio

1. –û—Ç–∫—Ä–æ–π https://studio.yandex.cloud
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Classifier
3. –ó–∞–≥—Ä—É–∑–∏ 5-10 –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
   - `contract.pdf` ‚Üí label: "contract"
   - `attorney_letter.pdf` ‚Üí label: "privileged"
   - `report.pdf` ‚Üí label: "report"
4. –û–±—É—á–∏ –º–æ–¥–µ–ª—å (2 –º–∏–Ω—É—Ç—ã)
5. –°–∫–æ–ø–∏—Ä—É–π ID –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞

### 3. –û–±–Ω–æ–≤–∏ `.env` —Ñ–∞–π–ª

```bash
# Yandex Cloud
YANDEX_FOLDER_ID=your_folder_id_here
YANDEX_IAM_TOKEN=your_iam_token_here
YANDEX_AI_STUDIO_CLASSIFIER_ID=your_classifier_id_here
YANDEX_GPT_MODEL=yandexgpt-pro/latest  # –∏–ª–∏ yandexgpt/latest –¥–ª—è –¥–µ—à–µ–≤–ª–µ
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
cd backend
pip install -r requirements.txt
```

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ backend

```bash
uvicorn app.main:app --reload
```

## üìä –≠–∫–æ–Ω–æ–º–∏—è

### –î–æ (OpenRouter):
```
500 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ √ó 30‚ÇΩ = 15,000‚ÇΩ
RAG –∑–∞–ø—Ä–æ—Å—ã √ó 10‚ÇΩ/1K = 5,000‚ÇΩ
–ò–¢–û–ì–û: 20,000‚ÇΩ/–º–µ—Å
```

### –ü–æ—Å–ª–µ (Yandex):
```
AI Studio classifier: 500 √ó 0.11‚ÇΩ = 55‚ÇΩ
YandexGPT: 500 √ó 0.30‚ÇΩ = 150‚ÇΩ
Embeddings: 500 √ó 0.008‚ÇΩ = 4‚ÇΩ
–ò–¢–û–ì–û: 209‚ÇΩ/–º–µ—Å
```

### üí∞ –≠–ö–û–ù–û–ú–ò–Ø: 90% (19,791‚ÇΩ/–º–µ—Å)

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ OpenRouter –µ—Å–ª–∏ Yandex –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

1. **Embeddings**: Yandex ‚Üí OpenAI (OpenRouter)
2. **LLM**: YandexGPT ‚Üí ChatOpenAI (OpenRouter)
3. **Classifier**: Yandex AI Studio ‚Üí LLM –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```python
# Embeddings –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Yandex –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
from app.services.document_processor import DocumentProcessor
processor = DocumentProcessor()  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Yandex –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

# LLM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç YandexGPT –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
from app.services.langchain_agents.planning_agent import PlanningAgent
agent = PlanningAgent()  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç YandexGPT –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

# –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Yandex AI Studio
# –í document_classifier_node.py —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞

```bash
# –í —á–∞—Ç–µ:
üë§: "–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–π –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –¥–µ–ª–µ"

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
ü§ñ: "‚úÖ –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ Yandex AI Studio:
    - contract.pdf: contract (95% confidence, 0.11‚ÇΩ)
    - letter.pdf: privileged (92% confidence, 0.11‚ÇΩ)"
```

### –¢–µ—Å—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –í —á–∞—Ç–µ:
üë§: "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –Ω–∞–π–¥–∏ –≤—Å–µ —Ä–∏—Å–∫–∏"

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
ü§ñ: "–Ø –ø–æ–Ω—è–ª –≤–∞—à—É –∑–∞–¥–∞—á—É –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª —Å–ª–µ–¥—É—é—â–∏–µ –∞–Ω–∞–ª–∏–∑—ã:
    **–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∞–Ω–∞–ª–∏–∑—ã:** risk_analysis, discrepancies
    **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:** –ó–∞–¥–∞—á–∞ —Ç—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ —Ä–∏—Å–∫–æ–≤...
    **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å:** 85%
    
    (–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è YandexGPT –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)"
```

### –¢–µ—Å—Ç RAG

```bash
# –í —á–∞—Ç–µ:
üë§: "–ö–∞–∫–∏–µ —Å—Ä–æ–∫–∏ —É–∫–∞–∑–∞–Ω—ã –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ?"

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
ü§ñ: "–í –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ —É–∫–∞–∑–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ä–æ–∫–∏:
    [–î–æ–∫—É–º–µ–Ω—Ç: contract.pdf, —Å—Ç—Ä. 5, —Å—Ç—Ä–æ–∫–∏ 12-15]
    ...
    
    (–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Yandex embeddings –¥–ª—è –ø–æ–∏—Å–∫–∞ + YandexGPT –¥–ª—è –æ—Ç–≤–µ—Ç–∞)"
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **IAM —Ç–æ–∫–µ–Ω** –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 12 —á–∞—Å–æ–≤. –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π Service Account —Å –∫–ª—é—á–æ–º.

2. **AI Studio Classifier** –Ω—É–∂–Ω–æ –æ–±—É—á–∏—Ç—å –Ω–∞ —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

3. **YandexGPT** –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ —á–µ–º GPT-4.

4. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç **–ª–æ–∫–∞–ª—å–Ω–æ** - –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å!

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Yandex Cloud Console](https://console.cloud.yandex.ru)
- [AI Studio](https://studio.yandex.cloud)
- [YandexGPT API Docs](https://yandex.cloud/ru/docs/foundation-models/concepts/)
- [SpeechKit Docs](https://yandex.cloud/ru/docs/speechkit/)

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —Ç–≤–æ–π MVP –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Yandex —Å–µ—Ä–≤–∏—Å—ã –ª–æ–∫–∞–ª—å–Ω–æ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º fallback –Ω–∞ OpenRouter. –≠–∫–æ–Ω–æ–º–∏—è 90%! üéâ
