# üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex API –∫–ª—é—á–∞ (–ø—Ä–æ—â–µ —á–µ–º IAM —Ç–æ–∫–µ–Ω!)

## ‚úÖ –î–∞, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ API –∫–ª—é—á–∞!

–¢–µ–ø–µ—Ä—å –∫–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞**:

### –í–∞—Ä–∏–∞–Ω—Ç 1: API –∫–ª—é—á (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –ø—Ä–æ—â–µ!)
```
YANDEX_API_KEY=AQVNxxxxxxxxxxxxx
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: IAM —Ç–æ–∫–µ–Ω (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
```
YANDEX_IAM_TOKEN=t1.xxxxxxxxxxxxx
YANDEX_FOLDER_ID=b1gxxxxxxxxxxxxx
```

---

## üöÄ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π Service Account
1. –ó–∞–π–¥–∏ –≤ https://console.cloud.yandex.ru
2. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥ (folder)
3. –ü–µ—Ä–µ–π–¥–∏ –≤ **"–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"** (Service Accounts)
4. –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç"**
5. –£–∫–∞–∂–∏ –∏–º—è: `legal-ai-vault-api`
6. –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å"**

### –®–∞–≥ 2: –ù–∞–∑–Ω–∞—á—å —Ä–æ–ª–∏
1. –í—ã–±–µ—Ä–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Service Account
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **"–†–æ–ª–∏"**
3. –ù–∞–∂–º–∏ **"–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª–∏"**
4. –î–æ–±–∞–≤—å —Ä–æ–ª—å: **`ai.languageModels.user`** (–¥–ª—è YandexGPT –∏ Embeddings)
5. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å AI Studio Classifier - –¥–æ–±–∞–≤—å: **`ai.languageModels.user`**
6. –ù–∞–∂–º–∏ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π API –∫–ª—é—á
1. –í Service Account –ø–µ—Ä–µ–π–¥–∏ –≤ **"–ö–ª—é—á–∏"**
2. –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á"** ‚Üí **"API –∫–ª—é—á"**
3. –£–∫–∞–∂–∏ –∏–º—è: `legal-ai-vault-key`
4. –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å"**
5. **–°–∫–æ–ø–∏—Ä—É–π –∫–ª—é—á —Å—Ä–∞–∑—É!** –û–Ω –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω

–§–æ—Ä–º–∞—Ç –∫–ª—é—á–∞: `AQVNxxxxxxxxxxxxx`

---

## üìù –ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ Render

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (—Ç–æ–ª—å–∫–æ API –∫–ª—é—á):
```
YANDEX_API_KEY=AQVNxxxxxxxxxxxxx
```

### –° Folder ID (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω —è–≤–Ω–æ):
```
YANDEX_API_KEY=AQVNxxxxxxxxxxxxx
YANDEX_FOLDER_ID=b1gxxxxxxxxxxxxx
```

### –° AI Studio Classifier:
```
YANDEX_API_KEY=AQVNxxxxxxxxxxxxx
YANDEX_AI_STUDIO_CLASSIFIER_ID=classifier-xxxxx
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ API –∫–ª—é—á–∞

1. **–ù–µ –∏—Å—Ç–µ–∫–∞–µ—Ç** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç IAM —Ç–æ–∫–µ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ 12 —á–∞—Å–æ–≤)
2. **–ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å** - –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–ª—é—á
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ** - –º–æ–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
4. **Folder ID –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω** - –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–ª—é—á

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä

–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
1. **API –∫–ª—é—á** (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `YANDEX_API_KEY`)
2. **IAM —Ç–æ–∫–µ–Ω** (–µ—Å–ª–∏ API –∫–ª—é—á–∞ –Ω–µ—Ç, –Ω–æ –µ—Å—Ç—å `YANDEX_IAM_TOKEN`)

Fallback —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `YANDEX_API_KEY` –≤ Render:

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:
   ```
   ‚úÖ Using Yandex embeddings (–ª—É—á—à–µ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ!)
   ‚úÖ Using YandexGPT for planning (10x –¥–µ—à–µ–≤–ª–µ!)
   ```

3. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É:
   - –ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å –≤ —á–∞—Ç–µ
   - –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è YandexGPT

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | API –∫–ª—é—á | IAM —Ç–æ–∫–µ–Ω |
|----------|----------|-----------|
| –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è | –ù–µ –∏—Å—Ç–µ–∫–∞–µ—Ç | 12 —á–∞—Å–æ–≤ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | 1 –∫–ª—é—á | 2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (—Ç–æ–∫–µ–Ω + folder) |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å | ‚ö†Ô∏è –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å |
| –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è | ‚úÖ –î–∞ | ‚ö†Ô∏è –¢–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ |

---

## üéØ –ò—Ç–æ–≥

**–î–∞, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ API –∫–ª—é—á–∞!**

–î–æ–±–∞–≤—å –≤ Render:
```
YANDEX_API_KEY=AQVNxxxxxxxxxxxxx
```

–ò –≤—Å—ë! –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ø–Ω–¥–µ–∫—Å —Å–µ—Ä–≤–∏—Å—ã.

Folder ID –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω - –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω –≤ API –∫–ª—é—á –∏–ª–∏ —É–∫–∞–∑–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ.
